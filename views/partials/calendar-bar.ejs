<% const today = new Date(); %>
<% for (let i = 0; i < 7; i++) {
     const date = new Date();
     date.setDate(today.getDate() + (weekOffset * 7 + i));
     const iso = date.toISOString().split('T')[0];
     const isToday = date.toDateString() === today.toDateString();
%>
  <button class="calendar-day <%= selectedDate === iso ? 'active' : '' %> <%= isToday ? 'today' : '' %>" 
          data-date="<%= iso %>">
    <%= date.toLocaleDateString('en-US', { weekday: 'short' }) %><br>
    <%= date.getDate() %>
  </button>
<% } %>
